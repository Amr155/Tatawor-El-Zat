<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Tatawor-El-Zat </title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Ø§Ù„ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #FF6B6B;
            --primary-dark: #FF5252;
            --secondary: #2D3436;
            --dark: #1E1E1E;
            --light: #FFFFFF;
            --accent: #74B9FF;
            --accent-dark: #0984E3;
            --card-bg: #2D3436;
            --text-gray: #B2BEC3;
            --gradient: linear-gradient(135deg, #FF6B6B 0%, #74B9FF 100%);
            --gradient-dark: linear-gradient(135deg, #FF5252 0%, #0984E3 100%);
            --section-bg: rgba(45, 52, 54, 0.6);
            --success: #00B894;
        }

        body {
            background: linear-gradient(135deg, #1E1E1E 0%, #2D3436 100%);
            color: var(--light);
            line-height: 1.6;
            padding-bottom: 70px;
            min-height: 100vh;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        /* Ù…Ø´ØºÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ */
        .video-player-section {
            padding: 1.5rem 0;
        }

        .video-container {
            position: relative;
            width: 100%;
            max-width: 1000px;
            margin: 0 auto;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .video-player {
            width: 100%;
            height: 500px;
            background: #000;
            border-radius: 15px;
        }

        .video-controls {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.7));
            padding: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .video-container:hover .video-controls {
            opacity: 1;
        }

        .play-pause-btn {
            background: var(--accent);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.2rem;
        }

        .progress-bar {
            flex: 1;
            height: 6px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 3px;
            position: relative;
            cursor: pointer;
        }

        .progress {
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            background: var(--accent);
            border-radius: 3px;
            width: 0%;
        }

        .time-display {
            color: white;
            font-size: 0.9rem;
            min-width: 100px;
            text-align: center;
        }

        .video-title {
            margin-top: 1rem;
            text-align: center;
            font-size: 1.3rem;
            font-weight: 600;
        }

        .video-actions {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }

        .btn {
            padding: 0.8rem 1.5rem;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            transition: all 0.3s ease;
            border: none;
            font-size: 1rem;
        }

        .btn-primary {
            background: var(--gradient);
            color: white;
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(255, 107, 107, 0.4);
        }

        .btn-secondary {
            background: rgba(116, 185, 255, 0.1);
            color: var(--accent);
            border: 1px solid var(--accent);
        }

        .btn-secondary:hover {
            background: var(--accent);
            color: white;
        }

        .btn-success {
            background: var(--success);
            color: white;
        }

        .btn-success:hover {
            background: #00a885;
            transform: translateY(-3px);
        }

        .btn i {
            margin-left: 8px;
        }

        /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø­Ù„Ù‚Ø§Øª */
        .episodes-list {
            background: var(--section-bg);
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem auto;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .section-title {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            font-weight: 700;
            color: var(--light);
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--accent);
            display: inline-block;
        }

        .section-title i {
            margin-left: 10px;
            color: var(--accent);
        }

        .episodes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .episode-card {
            background: linear-gradient(145deg, #2D3436, #1E1E1E);
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .episode-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
            border-color: var(--accent);
        }

        .episode-card.active {
            border-color: var(--accent);
            box-shadow: 0 0 0 2px var(--accent);
        }

        .episode-card-img {
            width: 100%;
            height: 150px;
            object-fit: cover;
        }

        .episode-card-info {
            padding: 1rem;
        }

        .episode-card-title {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .episode-card-meta {
            display: flex;
            justify-content: space-between;
            color: var(--text-gray);
            font-size: 0.9rem;
        }

        .episode-card-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 0.8rem;
        }

        .btn-small {
            padding: 0.5rem 1rem;
            font-size: 0.8rem;
            border-radius: 20px;
        }

        /* Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø³ÙÙ„ÙŠ */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, #2D3436 0%, #1E1E1E 100%);
            display: flex;
            justify-content: space-around;
            padding: 0.8rem 0;
            box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.4);
            z-index: 1000;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .bottom-nav a {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--text-gray);
            transition: all 0.3s ease;
            padding: 0.5rem;
            border-radius: 12px;
            flex: 1;
            max-width: 80px;
            position: relative;
        }

        .bottom-nav a:hover,
        .bottom-nav a.active {
            color: var(--accent);
            transform: translateY(-5px);
            background: rgba(116, 185, 255, 0.1);
        }

        .bottom-nav a i {
            font-size: 1.2rem;
            margin-bottom: 5px;
        }

        .bottom-nav a span {
            font-size: 0.8rem;
            font-weight: 500;
        }

        .bottom-nav a.active::after {
            content: '';
            position: absolute;
            bottom: -8px;
            width: 30px;
            height: 3px;
            background: var(--accent);
            border-radius: 10px;
        }

        /* Ø§Ù„ØªØ¬Ø§ÙˆØ¨ */
        @media (max-width: 1024px) {
            .video-player {
                height: 400px;
            }

            .episodes-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .series-info {
                flex-direction: column;
                text-align: center;
            }

            .series-poster {
                width: 100px;
                height: 140px;
            }

            .series-title {
                font-size: 1.5rem;
            }

            .video-player {
                height: 300px;
            }

            .video-actions {
                flex-direction: column;
                align-items: center;
            }

            .btn {
                width: 100%;
                max-width: 250px;
                justify-content: center;
            }

            .episodes-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 576px) {
            .series-title {
                font-size: 1.3rem;
            }

            .video-player {
                height: 250px;
            }

            .video-controls {
                padding: 0.5rem;
            }

            .play-pause-btn {
                width: 35px;
                height: 35px;
                font-size: 1rem;
            }

            .time-display {
                font-size: 0.8rem;
                min-width: 80px;
            }

            .episodes-list {
                padding: 1.5rem;
                margin: 1.5rem 0;
            }
        }

        /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø¯Ø®ÙˆÙ„ */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .episode-card {
            animation: fadeInUp 0.6s ease forwards;
            opacity: 0;
        }

        .episode-card:nth-child(1) {
            animation-delay: 0.1s;
        }

        .episode-card:nth-child(2) {
            animation-delay: 0.2s;
        }

        .episode-card:nth-child(3) {
            animation-delay: 0.3s;
        }

        .episode-card:nth-child(4) {
            animation-delay: 0.4s;
        }

        .episode-card:nth-child(5) {
            animation-delay: 0.5s;
        }

        .episode-card:nth-child(6) {
            animation-delay: 0.6s;
        }

        /* iframe (Ø§Ù„ÙŠÙˆØªÙŠÙˆØ¨) */
        #player {
            width: 100%;
            height: 450px;
            position: relative;
            z-index: 1;
            /* Ø§Ù„ÙÙŠØ¯ÙŠÙˆ ÙÙŠ Ø§Ù„Ø®Ù„Ù */
        }

        /* Ø§Ù„ØºØ·Ø§Ø¡ Ø§Ù„Ø´ÙØ§Ù */
        .video-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: transparent;
            /* Ø´ÙØ§Ù */
            z-index: 2;
            /* ÙÙˆÙ‚ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ */
            pointer-events: auto;
            /* ÙŠÙ…Ù†Ø¹ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ */
        }

        /* Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªØ­ÙƒÙ… */
        .video-controls {
            position: absolute;
            bottom: 15px;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            z-index: 3;
            /* Ø£Ø¹Ù„Ù‰ Ù…Ù† Ø§Ù„ÙƒÙ„ */
        }

        .controls-container {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            opacity: 0;
            transition: opacity 0.25s ease-in-out;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.6), transparent);
        }

        .video-container:hover .controls-container,
        .video-container.paused .controls-container {
            opacity: 1;
        }

        .timeline-container {
            height: 10px;
            cursor: pointer;
            width: 100%;
            padding: 5px 0;
        }

        .timeline {
            background-color: rgba(255, 255, 255, 0.4);
            height: 3px;
            width: 100%;
            position: relative;
        }

        .timeline .progress {
            background-color: #fff;
            width: 0%;
            height: 100%;
            transition: width 0.1s linear;
        }

        .bottom-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 5px 15px 10px;
        }

        .left-controls,
        .right-controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .control-btn {
            background: none;
            border: none;
            color: #fff;
            cursor: pointer;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0.9;
            transition: opacity 0.2s;
        }

        .control-btn:hover {
            opacity: 1;
        }

        .control-btn svg {
            width: 24px;
            height: 24px;
            fill: #fff;
        }

        .time-display {
            color: #fff;
            font-size: 0.9rem;
        }

        .volume-container {
            display: flex;
            align-items: center;
        }

        .volume-slider {
            -webkit-appearance: none;
            appearance: none;
            width: 60px;
            height: 4px;
            background: rgba(255, 255, 255, 0.4);
            outline: none;
            cursor: pointer;
            border-radius: 2px;
            margin-right: 8px;
        }

        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 12px;
            height: 12px;
            background: #fff;
            border-radius: 50%;
        }

        .volume-slider::-moz-range-thumb {
            width: 12px;
            height: 12px;
            background: #fff;
            border-radius: 50%;
            border: none;
        }

        .video-container:fullscreen,
        .video-container:fullscreen iframe,
        .video-container:fullscreen #player {
            width: 100% !important;
            height: 100% !important;
        }
        /* Ø§Ù„Ø­Ø¬Ù… Ø§Ù„Ø¹Ø§Ø¯ÙŠ (Ø¯ÙŠØ³ÙƒØªÙˆØ¨) */
.video-controls {
    position: absolute;
    bottom: 0;
    width: 100%;
    padding: 10px;
    box-sizing: border-box;
}

/* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… */
.control-btn svg {
    width: 24px;
    height: 24px;
}

/* ====== ğŸ“± Ù…ÙˆØ¨Ø§ÙŠÙ„ (Ø´Ø§Ø´Ø§Øª Ø£ØµØºØ± Ù…Ù† 600px) ====== */
@media (max-width: 600px) {
    .video-controls {
        padding: 5px;
    }

    .control-btn svg {
        width: 18px;
        height: 18px;
    }

    .time-display {
        font-size: 10px;
    }

    .volume-container {
        display: none; /* Ù†Ø®ÙÙŠ Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„ØµÙˆØª Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ Ù„Ùˆ Ù…Ø´ Ù…Ù‡Ù… */
    }

    .bottom-controls {
        flex-wrap: wrap; /* Ù†Ø®Ù„ÙŠ Ø§Ù„Ø£Ø²Ø±Ø§Ø± ØªÙ†Ø²Ù„ Ø³Ø·Ø± Ø¬Ø¯ÙŠØ¯ Ù„Ùˆ Ù…ÙÙŠØ´ Ù…Ø³Ø§Ø­Ø© */
        justify-content: space-between;
    }

    .left-controls, 
    .right-controls {
        flex: 1;
        display: flex;
        justify-content: center;
    }
}

        /* Ø§Ù„Ø­Ø§ÙˆÙŠØ© */
        .timeline-container {
            width: 100%;
            padding: 10px 0;
            /* Ù…Ø³Ø§ÙØ© Ø¹Ø´Ø§Ù† ÙŠÙƒÙˆÙ† ÙˆØ§Ø¶Ø­ */
            cursor: pointer;
        }

        /* Ø§Ù„Ø´Ø±ÙŠØ· */
        .timeline {
            width: 100%;
            height: 8px;
            /* Ø³Ù…Ùƒ Ø§Ù„Ø´Ø±ÙŠØ· */
            background: rgba(255, 255, 255, 0.3);
            /* Ø§Ù„Ù„ÙˆÙ† Ø§Ù„ÙØ§Ø¶ÙŠ */
            border-radius: 4px;
            position: relative;
            overflow: hidden;
        }

        /* Ø§Ù„ØªÙ‚Ø¯Ù… */
        .timeline .progress {
            height: 100%;
            background: rgb(6, 95, 139);
            /* Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø­Ù…Ø± Ø£Ùˆ Ø£ÙŠ Ù„ÙˆÙ† ØªØ­Ø¨Ù‡ */
            width: 0%;
            border-radius: 4px;
            position: relative;
        }

        /* Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„ÙƒØ¨ÙŠØ±Ø© */
        .timeline .progress::after {
            content: "";
            position: absolute;
            right: 0;
            top: 50%;
            transform: translate(50%, -50%);
            width: 18px;
            /* Ø­Ø¬Ù… Ø§Ù„Ù†Ù‚Ø·Ø© */
            height: 18px;
            /* Ø­Ø¬Ù… Ø§Ù„Ù†Ù‚Ø·Ø© */
            background: #fff;
            border: 3px solid rgb(5, 94, 153);
            /* Ø¥Ø·Ø§Ø± Ø£Ø­Ù…Ø± */
            border-radius: 50%;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
        }
    </style>
</head>

<body>
    <div class="container">
        <!-- Ù…Ø´ØºÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ -->
        <section class="video-player-section">
            <div class="video-container">
                <div id="player"></div>

                <!-- Ø§Ù„ØºØ·Ø§Ø¡ Ø§Ù„Ø´ÙØ§Ù -->
                <div class="video-overlay"></div>

                <div class="video-controls">
                    <div class="controls-container">
                        <div class="timeline-container">
                            <div class="timeline" dir="ltr">
                                <div class="progress"></div>
                            </div>
                        </div>
                        <div class="bottom-controls">
                            <div class="left-controls">
                                <button class="control-btn play-pause-btn">
                                    <svg viewBox="0 0 24 24">
                                        <path d="M8 5v14l11-7z"></path>
                                    </svg>
                                </button>
                                <button class="control-btn rewind-btn">
                                    <svg viewBox="0 0 24 24">
                                        <g>
                                            <path
                                                d="M12,5V1L7,6l5,5V7c3.31,0,6,2.69,6,6s-2.69,6-6,6s-6-2.69-6-6H4c0,4.42,3.58,8,8,8s8-3.58,8-8S16.42,5,12,5z">
                                            </path>
                                        </g>
                                        <g><text x="6" y="16.5" font-size="9" font-weight="bold" fill="#fff">10</text>
                                        </g>
                                    </svg>
                                </button>
                                <button class="control-btn forward-btn">
                                    <svg viewBox="0 0 24 24">
                                        <g>
                                            <path
                                                d="M12,5c-4.42,0-8,3.58-8,8s3.58,8,8,8s8-3.58,8-8S16.42,5,12,5z M12,19c-3.31,0-6-2.69-6-6s2.69-6,6-6s6,2.69,6,6S15.31,19,12,19z">
                                            </path>
                                        </g>
                                        <g>
                                            <path d="M12,7l-5,5l5,5V7z" transform="scale(-1, 1) translate(-24, 0)">
                                            </path>
                                        </g>
                                        <g><text x="7" y="16.5" font-size="9" font-weight="bold" fill="#fff">10</text>
                                        </g>
                                    </svg>
                                </button>
                            </div>
                            <div class="right-controls">
                                <span class="time-display">00:00</span>
                                <div class="volume-container">
                                    <button class="control-btn volume-btn">
                                        <svg viewBox="0 0 24 24">
                                            <path
                                                d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z">
                                            </path>
                                        </svg>
                                    </button>
                                    <input class="volume-slider" type="range" min="0" max="1" step="0.01" value="1">
                                </div>
                                <button class="control-btn settings-btn">
                                    <svg viewBox="0 0 24 24">
                                        <path
                                            d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z">
                                        </path>
                                    </svg>
                                </button>
                                <button class="control-btn pip-btn">
                                    <svg viewBox="0 0 24 24">
                                        <path
                                            d="M19 7h-8v6h8V7zm2-4H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h18v14z">
                                        </path>
                                    </svg>
                                </button>
                                <button class="control-btn fullscreen-btn">
                                    <svg viewBox="0 0 24 24">
                                        <path
                                            d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z">
                                        </path>
                                    </svg>
                                </button>
                                <button class="control-btn cast-btn">
                                    <svg viewBox="0 0 24 24">
                                        <path
                                            d="M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11z">
                                        </path>
                                    </svg>
                                </button>
                            </div>

                        </div>
                    </div>
                </div>
        </section>
    </div>

    <!-- Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙÙŠØ¯ÙŠÙˆ -->
    <h3 class="video-title" id="currentEpisodeTitle">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ...</h3>

    <div class="video-actions">
        <button class="btn btn-success" id="downloadCurrentEpisode">
            <i class="fas fa-download"></i> ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø­Ù„Ù‚Ø©
        </button>
        <button class="btn btn-secondary">
            <i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ù…ÙØ¶Ù„Ø©
        </button>
        <button class="btn btn-secondary">
            <i class="fas fa-share"></i> Ù…Ø´Ø§Ø±ÙƒØ©
        </button>
    </div>
    </section>

    <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø­Ù„Ù‚Ø§Øª -->
    <section class="episodes-list">
        <h2 class="section-title"><i class="fas fa-list"></i> Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù„Ù‚Ø§Øª</h2>

        <div class="episodes-grid" id="episodes-grid">
            <!-- Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø­Ù„Ù‚Ø§Øª Ù‡Ù†Ø§ Ø¹Ø¨Ø± JavaScript -->
        </div>
 

    </section>
    </div>
    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const playlistId = urlParams.get("playlist");

        // ğŸ”‘ API KEY (Ø¨Ø¯Ù„Ù‡ Ø¨Ù…ÙØªØ§Ø­Ùƒ)
        const API_KEY = "AIzaSyBvFuKWR_Q_tHR6I8ZU0Febz2O5jZrFcXA";

        let player;
        let episodes = [];
        let isPlaying = false;
        let captionsOn = false;
        const initialPlayerHeight = 400; // Ø§Ø±ØªÙØ§Ø¹ Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù‚Ø¨Ù„ Ø§Ù„ÙÙˆÙ„ Ø³ÙƒØ±ÙŠÙ†

        function onYouTubeIframeAPIReady() {
            player = new YT.Player("player", {
                height: initialPlayerHeight,
                width: "100%",
                playerVars: {
                    listType: "playlist",
                    list: playlistId,
                    controls: 0,
                    modestbranding: 1,
                    rel: 0,
                    iv_load_policy: 3,
                    fs: 0,
                    disablekb: 1,
                    cc_load_policy: 0
                },
                events: {
                    onReady: onPlayerReady,
                    onStateChange: onPlayerStateChange
                }
            });
        }

        function onPlayerReady() {
            loadEpisodes();
            // Ø±Ø¨Ø· ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            setupUI();
            updateProgress();
        }

        function onPlayerStateChange(event) {
            if (event.data === YT.PlayerState.PLAYING) {
                isPlaying = true;
                setPlayIcon("pause");
            } else {
                isPlaying = false;
                setPlayIcon("play");
            }
        }

        function setPlayIcon(type) {
            const path = document.querySelector(".play-pause-btn svg path");
            if (!path) return;
            if (type === "pause") {
                // Ø±Ù…Ø² Ø§Ù„ÙˆÙ‚Ù (Ø¹Ù…ÙˆØ¯ÙŠÙ†)
                path.setAttribute("d", "M6 19h4V5H6zm8-14v14h4V5h-4z");
            } else {
                // Ø±Ù…Ø² Ø§Ù„ØªØ´ØºÙŠÙ„ (Ù…Ø«Ù„Ø«)
                path.setAttribute("d", "M8 5v14l11-7z");
            }
        }

        // Ø±Ø¨Ø· Ø¹Ù†Ø§ØµØ± Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© ÙˆÙˆØ¸Ø§Ø¦ÙÙ‡Ø§
        function setupUI() {
            // Ø²Ø± Ø§Ù„ØªØ´ØºÙŠÙ„/Ø§Ù„Ø¥ÙŠÙ‚Ø§Ù
            document.querySelector(".play-pause-btn")?.addEventListener("click", () => {
                if (!player) return;
                if (isPlaying) player.pauseVideo();
                else player.playVideo();
            });

            // Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„ØºØ·Ø§Ø¡ Ø§Ù„Ø´ÙØ§Ù Ù„ØªØ´ØºÙŠÙ„/Ø¥ÙŠÙ‚Ø§Ù
            document.querySelector(".video-overlay")?.addEventListener("click", () => {
                if (!player) return;
                if (isPlaying) player.pauseVideo();
                else player.playVideo();
            });

            // ØªØ±Ø¬ÙŠØ¹/ØªÙ‚Ø¯ÙŠÙ… 10 Ø«ÙˆØ§Ù†ÙŠ
            document.querySelector(".rewind-btn")?.addEventListener("click", () => {
                try {
                    let current = player.getCurrentTime();
                    player.seekTo(Math.max(0, current - 10), true);
                } catch (e) { console.warn(e); }
            });
            document.querySelector(".forward-btn")?.addEventListener("click", () => {
                try {
                    let current = player.getCurrentTime();
                    player.seekTo(current + 10, true);
                } catch (e) { console.warn(e); }
            });

            // Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„ØµÙˆØª
            const volumeSlider = document.querySelector(".volume-slider");
            if (volumeSlider) {
                // Ø­Ø¬Ù… Ø§Ù„Ù‚ÙŠÙ…Ø© ÙÙŠ HTML Ù…ØªÙˆÙ‚Ø¹ 0..1
                volumeSlider.addEventListener("input", (e) => {
                    try { player.setVolume(e.target.value * 100); } catch (err) { }
                });
            }

            // Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø²Ù…Ù†ÙŠ (Ù†Ù‚Ø± + Ø³Ø­Ø¨ + Ù„Ù…Ø³)
            const timeline = document.querySelector(".timeline");
            if (timeline) {
                let scrubbing = false;

                const seekFromEvent = (e) => {
                    if (!player || !player.getDuration) return;
                    const rect = timeline.getBoundingClientRect();
                    const clientX = (e.touches && e.touches[0]) ? e.touches[0].clientX : e.clientX;
                    let x = clientX - rect.left;
                    x = Math.max(0, Math.min(x, rect.width));
                    const percent = x / rect.width;
                    const dur = player.getDuration() || 0;
                    if (dur > 0) player.seekTo(dur * percent, true);
                };

                timeline.addEventListener("click", seekFromEvent);
                timeline.addEventListener("mousedown", (e) => { scrubbing = true; seekFromEvent(e); });
                window.addEventListener("mousemove", (e) => { if (scrubbing) seekFromEvent(e); });
                window.addEventListener("mouseup", () => { scrubbing = false; });

                // Ù„Ù…Ø³ (mobile)
                timeline.addEventListener("touchstart", (e) => { scrubbing = true; seekFromEvent(e); });
                timeline.addEventListener("touchmove", (e) => { if (scrubbing) seekFromEvent(e); });
                timeline.addEventListener("touchend", () => { scrubbing = false; });
            }

            // Ø²Ø± Ø§Ù„ÙÙˆÙ„ Ø³ÙƒØ±ÙŠÙ†
            const fullscreenBtn = document.querySelector(".fullscreen-btn");
            const videoContainer = document.querySelector(".video-container");
            if (fullscreenBtn && videoContainer) {
                fullscreenBtn.addEventListener("click", async () => {
                    try {
                        if (!document.fullscreenElement) {
                            // Ø·Ù„Ø¨ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙÙŠ ÙˆØ¶Ø¹ Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø§ÙˆÙŠØ©
                            if (videoContainer.requestFullscreen) await videoContainer.requestFullscreen();
                            else if (videoContainer.webkitRequestFullscreen) videoContainer.webkitRequestFullscreen();
                            // Ø¶Ø¨Ø· Ø­Ø¬Ù… Ù…Ø´ØºÙ„ Ø§Ù„ÙŠÙˆØªÙŠÙˆØ¨ Ù„ÙŠØªÙ†Ø§Ø³Ø¨ Ù…Ø¹ Ø§Ù„Ø´Ø§Ø´Ø©
                            try { player.setSize(window.innerWidth, window.innerHeight); } catch (e) { }
                        } else {
                            if (document.exitFullscreen) await document.exitFullscreen();
                        }
                    } catch (err) { console.warn(err); }
                });

                // Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ø© Ø§Ù„ÙÙˆÙ„ Ø³ÙƒØ±ÙŠÙ† Ù†Ø¹ÙŠØ¯ ØªØ¹ÙŠÙŠÙ† Ø­Ø¬Ù… Ø§Ù„Ù…Ø´ØºÙ„
                document.addEventListener("fullscreenchange", () => {
                    try {
                        if (document.fullscreenElement) {
                            player.setSize(window.innerWidth, window.innerHeight);
                        } else {
                            player.setSize("100%", initialPlayerHeight);
                        }
                    } catch (e) { }
                });
            }

            // Ø²Ø± Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª â€” Ø³Ù†Ù†Ø´Ø¦ Ù‚Ø§Ø¦Ù…Ø© ØµØºÙŠØ±Ø© Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ Ø¯Ø§Ø®Ù„ videoContainer
            const settingsBtn = document.querySelector(".settings-btn");
            if (settingsBtn && videoContainer) {
                // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
                const menu = document.createElement("div");
                menu.className = "yt-settings-menu";
                Object.assign(menu.style, {
                    position: "absolute",
                    right: "10px",
                    top: "50px",
                    background: "#1f1f1f",
                    color: "#fff",
                    padding: "8px",
                    borderRadius: "8px",
                    display: "none",
                    zIndex: 9999,
                    minWidth: "180px",
                    boxShadow: "0 6px 18px rgba(0,0,0,0.4)",
                    fontSize: "14px"
                });

                menu.innerHTML = `
                <div style="margin-bottom:8px;font-weight:600">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</div>
                <button class="settings-subtitles" style="display:block;width:100%;margin-bottom:8px;padding:6px;border:none;border-radius:6px;background:#2a2a2a;color:#fff;cursor:pointer">Ø§Ù„ØªØ±Ø¬Ù…Ø©: <span class="sub-status">Ø¥ÙŠÙ‚Ø§Ù</span></button>
                <div style="display:flex;gap:6px;flex-wrap:wrap">
                    <button class="speed-btn" data-rate="0.5" style="padding:6px;border-radius:6px;border:none;cursor:pointer">0.5Ã—</button>
                    <button class="speed-btn" data-rate="1" style="padding:6px;border-radius:6px;border:none;cursor:pointer">1Ã—</button>
                    <button class="speed-btn" data-rate="1.25" style="padding:6px;border-radius:6px;border:none;cursor:pointer">1.25Ã—</button>
                    <button class="speed-btn" data-rate="1.5" style="padding:6px;border-radius:6px;border:none;cursor:pointer">1.5Ã—</button>
                    <button class="speed-btn" data-rate="2" style="padding:6px;border-radius:6px;border:none;cursor:pointer">2Ã—</button>
                </div>
            `;

                // ØªØ£ÙƒØ¯ Ø£Ù† Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ù„Ø¯ÙŠÙ‡Ø§ position Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­
                if (getComputedStyle(videoContainer).position === "static") {
                    videoContainer.style.position = "relative";
                }
                videoContainer.appendChild(menu);

                // Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
                settingsBtn.addEventListener("click", (e) => {
                    e.stopPropagation();
                    menu.style.display = (menu.style.display === "none" || menu.style.display === "") ? "block" : "none";
                });
                // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¨Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§
                document.addEventListener("click", () => { menu.style.display = "none"; });

                // Ø²Ø± Ø§Ù„ØªØ±Ø¬Ù…Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
                const subBtn = menu.querySelector(".settings-subtitles");
                const subStatus = menu.querySelector(".sub-status");
                subBtn.addEventListener("click", () => {
                    if (!player) return;
                    try {
                        if (captionsOn) {
                            player.unloadModule("captions");
                            captionsOn = false;
                            subStatus.innerText = "Ø¥ÙŠÙ‚Ø§Ù";
                        } else {
                            player.loadModule("captions");
                            // Ø­Ø§ÙˆÙ„ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø£ÙˆÙ„Ø§Ù‹ØŒ Ø¥Ù† Ù„Ù… ØªÙˆØ¬Ø¯ Ø³ÙŠØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡Ùˆ
                            player.setOption("captions", "track", { languageCode: "ar" });
                            captionsOn = true;
                            subStatus.innerText = "ØªØ´ØºÙŠÙ„";
                        }
                    } catch (e) {
                        console.warn(e);
                        alert("Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ù„Ù„ØªØ±Ø¬Ù…Ø© ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ… ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ.");
                    }
                });

                // Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø³Ø±Ø¹Ø§Øª
                menu.querySelectorAll(".speed-btn").forEach(btn => {
                    btn.addEventListener("click", () => {
                        if (!player) return;
                        const rate = parseFloat(btn.getAttribute("data-rate"));
                        try { player.setPlaybackRate(rate); } catch (e) { }
                        // ØªÙ…ÙŠÙŠØ² Ø§Ù„Ø²Ø± Ø§Ù„Ù…Ø­Ø¯Ø¯
                        menu.querySelectorAll(".speed-btn").forEach(b => b.style.background = "");
                        btn.style.background = "#333";
                    });
                });
            }
        } // Ù†Ù‡Ø§ÙŠØ© setupUI

        // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… ÙˆØ§Ù„ÙˆÙ‚Øª (ÙŠØ­ÙØ¸ Ø§Ù„ÙˆÙ‚Øª Ù„ÙƒÙ„ ÙÙŠØ¯ÙŠÙˆ Ù…Ù†ÙØ±Ø¯Ø§Ù‹)
        function updateProgress() {
            if (player && player.getDuration) {
                try {
                    let duration = player.getDuration();
                    if (duration && duration > 0) {
                        let current = player.getCurrentTime();
                        const timeDisplayEl = document.querySelector(".time-display");
                        if (timeDisplayEl) timeDisplayEl.innerText = formatTime(current) + " / " + formatTime(duration);

                        const progressEl = document.querySelector(".progress");
                        if (progressEl) {
                            let percent = (current / duration) * 100;
                            progressEl.style.width = percent + "%";
                        }

                        // Ø­ÙØ¸ Ø¢Ø®Ø± Ø«Ø§Ù†ÙŠØ© Ù„Ù„ÙÙŠØ¯ÙŠÙˆ Ø§Ù„Ø­Ø§Ù„ÙŠ (Ù…ÙØªØ§Ø­ Ø®Ø§Øµ Ø¨ÙƒÙ„ videoId)
                        const vid = (player.getVideoData && player.getVideoData().video_id) || "";
                        if (vid) localStorage.setItem("lastTime_" + vid, current);
                    }
                } catch (e) { /* Ø¨Ø¹Ø¶ Ø§Ù„Ø¯ÙˆØ§Ù„ Ù‚Ø¯ ØªØ±Ù…ÙŠ Ø§Ø³ØªØ«Ù†Ø§Ø¡ Ù„Ùˆ Ø§Ù„Ù…Ø´ØºÙ„ ØºÙŠØ± Ø¬Ø§Ù‡Ø² */ }
            }
            requestAnimationFrame(updateProgress);
        }

        function formatTime(sec) {
            sec = Math.floor(sec || 0);
            let min = Math.floor(sec / 60);
            let s = sec % 60;
            if (s < 10) s = "0" + s;
            return min + ":" + s;
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø­Ù„Ù‚Ø§Øª Ù…Ù† Ø§Ù„ÙŠÙˆØªÙŠÙˆØ¨
        function loadEpisodes() {
            if (!playlistId) return;
            fetch(`https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=50&playlistId=${playlistId}&key=${API_KEY}`)
                .then(res => res.json())
                .then(data => {
                    if (!data.items) return;
                    episodes = data.items.map((item, index) => ({
                        id: index + 1,
                        videoId: item.snippet?.resourceId?.videoId || "",
                        title: item.snippet?.title || "Ø¨Ø¯ÙˆÙ† Ø¹Ù†ÙˆØ§Ù†",
                        description: item.snippet?.description || "",
                        thumbnail: item.snippet?.thumbnails?.medium?.url || "fallback.jpg",
                        duration: "",
                        isCurrent: index === 0
                    }));

                    const episodesGrid = document.getElementById("episodes-grid");
                    if (episodesGrid) {
                        episodesGrid.innerHTML = "";
                        episodes.forEach(ep => episodesGrid.innerHTML += createEpisodeCard(ep));
                    }

                    if (episodes.length > 0) {
                        document.getElementById("currentEpisodeTitle") && (document.getElementById("currentEpisodeTitle").innerText = episodes[0].title);
                        // Ø´ØºÙ‘Ù„ Ø§Ù„Ø­Ù„Ù‚Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨Ø¹Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
                        playEpisode(episodes[0].videoId, episodes[0].title);
                    }
                })
                .catch(err => console.error("Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:", err));
        }

        function createEpisodeCard(episode) {
            const isCurrent = episode.isCurrent ? 'active' : '';
            return `
        <div class="episode-card ${isCurrent}" data-id="${episode.id}" data-video="${episode.videoId}" data-title="${episode.title}">
          <img src="${episode.thumbnail}" alt="${episode.title}" class="episode-card-img">
          <div class="episode-card-info">
            <h3 class="episode-card-title" style="white-space:normal; overflow:visible; text-overflow:unset;">
                ${episode.title}
            </h3>
            <div class="episode-card-meta">
              <span>${episode.duration || "â€”"}</span>
            </div>
            <div class="episode-card-actions">
              <button class="btn btn-small btn-primary watch-episode">
                <i class="fas fa-play"></i> Ù…Ø´Ø§Ù‡Ø¯Ø©
              </button>
            </div>
          </div>
        </div>
      `;
        }

        // ØªØ´ØºÙŠÙ„ Ø­Ù„Ù‚Ø© Ù…Ø­Ø¯Ø¯Ø© Ù…Ø¹ Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø¢Ø®Ø± Ø²Ù…Ù† Ù…Ø´Ø§Ù‡Ø¯Ø© Ù„Ù‡Ø§ (Ø¥Ù† ÙˆØ¬Ø¯)
        function playEpisode(videoId, title) {
            if (!player || !videoId) return;
            try {
                player.loadVideoById(videoId);
                document.getElementById("currentEpisodeTitle") && (document.getElementById("currentEpisodeTitle").innerText = title);

                // Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø¢Ø®Ø± Ø«Ø§Ù†ÙŠØ© Ù…Ø­ÙÙˆØ¸Ø© Ù„Ù„ÙÙŠØ¯ÙŠÙˆ Ù‡Ø°Ø§ (Ø¥Ø°Ø§ ÙˆÙØ¬Ø¯)
                const saved = localStorage.getItem("lastTime_" + videoId);
                if (saved) {
                    const trySeek = setInterval(() => {
                        try {
                            if (player.getDuration && player.getDuration() > 0) {
                                player.seekTo(parseFloat(saved), true);
                                clearInterval(trySeek);
                            }
                        } catch (e) { }
                    }, 200);
                }
            } catch (e) { console.warn(e); }
        }

        // Ø£Ø­Ø¯Ø§Ø« DOMContentLoaded Ù„Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø­Ù„Ù‚Ø§Øª
        document.addEventListener("DOMContentLoaded", () => {
            // Ù†Ø¹ÙŠØ¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø­Ù„Ù‚Ø§Øª (Ù„Ùˆ Ù„Ù… ØªÙØ­Ù…Ù‘Ù„ Ø³Ø§Ø¨Ù‚Ø§Ù‹)
            loadEpisodes();

            document.addEventListener("click", function (e) {
                if (e.target.classList.contains("watch-episode") || e.target.closest(".watch-episode")) {
                    const episodeCard = e.target.closest(".episode-card");
                    const videoId = episodeCard.getAttribute("data-video");
                    const title = episodeCard.getAttribute("data-title");
                    playEpisode(videoId, title);
                }
            });
        });
    </script>

</body>


</html>



